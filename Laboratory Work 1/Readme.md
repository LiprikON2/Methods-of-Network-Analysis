# Лабораторная работа 1
> K33401 - Рейнгеверц Вадим


## Выполнение

### 1. Выберите 2 тематических сообщества

#### "A" group
Group ID: ij_salt

Owner ID: -204380239

![](https://i.imgur.com/OMgukiH.png)


#### "B" group
Group ID: itmem

Owner ID: -127149194

![](https://i.imgur.com/86oXhVa.png)


### 2. Сохраните списки участников выбранных сообществ
> Есть ли пользователи, относящиеся к обоим сообществам?


#### Сохранение

Для сохранения списков использовался браузерный Session Storage API

"A" group users

![](https://i.imgur.com/VbPwYJ9.png)

"B" group users

![](https://i.imgur.com/qCHTC92.png)

[Релевантный сниппет](core/main.js#L19)

![](https://i.imgur.com/G6YYm6H.png)

Функции `fetchAndStoreData`, `fetchAllItems`, `fetchFromVk` определены в [core/utils.js](core/utils.js)


#### Пересечение 
> 131 участника

![](https://i.imgur.com/zTZZXjE.png)

[Релевантный сниппет](core/main.js#L61)

![](https://i.imgur.com/EWh1W7r.png)


### 3. Сохраните последние 2000 постов каждого из сообществ
> - Ничего страшного, если их вдруг чуть меньше, в таком случае берём все, что есть
> - Используются ли в постах хэштеги? 
>   - Если используются, то составьте топ хэштегов по встречаемости для каждой группы, визуализируйте полученные результаты.
>   - Сравните списки на предмет пересечений.

#### Сохранение
Так как у Session Storage API есть общий лимит в 5 mb и по количеству символов у одного ключа, в него не получилось сохранить 2000 постов.

В качестве альтернативы был использован IndexedDB API, позволяющий, помимо прочего, хранить объекты напрямую, а не в виде строки.

Так как работать напрямую с IndexedDB - это плохая идея, была использована вспомогательная библиотека Dexie.


"A" group posts

![](https://i.imgur.com/0xTmukT.png)

"B" group posts

![](https://i.imgur.com/fhFr2hZ.png)

[Релевантный сниппет](core/main.js#L91)

![](https://i.imgur.com/J82fROV.png)

#### Экстракция хештегов



"A" group hashtags

![](https://i.imgur.com/J9V65Tl.png)

"B" group hashtags

![](https://i.imgur.com/D230JHJ.png)

[Релевантный сниппет](core/main.js#L137)

![](https://i.imgur.com/9SlziGt.png)

Так как пересечений нет, визуализировать особо нечего

![](https://i.imgur.com/c7kMkQT.png)


### 4. Посчитайте количество постов за каждый час суток для обоих сообществ
> - Визуализируйте результаты
> - В какое время суток наиболее активны участники социальных групп? 
> - Совпадают ли часы с наибольшей активностью для обоих сообществ?

![](https://i.imgur.com/K0uzpDn.png)

У обеих групп с 10:00 до 23:00 поддерживается максимальный уровень активности

Однако у группы "A" активность дольше держится в районе максимума: дополнительно в 9:00, и в 00:00; когда как у группы "B" активность в это время уже падает наполовину

[Релевантный сниппет](core/main.js#L183)

![](https://i.imgur.com/PUqlpl8.png)

### 5. Постройте социальные графы для обоих сообществ
> - Если во 2 пункте пересечений не было обнаружено, постройте 2 отдельных графа
> - Если пересечения по пользователям всё же есть, смотрите на то, насколько большие сообщества вы взяли
> - Графы можно объединить в 1 или исследовать по отдельности, если общий граф тяжело воспринимать визуально
>

Попытка отобразить графы обоих сообществ

![](https://i.imgur.com/cNfUiYR.jpeg)



### 6. Сколько узлов получилось в каждом из графов? 
> А сколько рёбер?

### 7. При помощи кластеризации выделите сообщества внутри обоих графов
> - Сколько сообществ получилось выделить в исследуемых графах?
> - Внутри крупной социальной группы, как правило, можно выделить небольшие сообщества
>   - Например, в учебной группе часто есть несколько небольших компаний друзей
>   - В получившихся после выполнения предыдущего пункта социальных графах выделите такие сообщества, применив кластеризацию. 